<!DOCTYPE html>
<html lang="en">
<head th:replace="~{base_layout :: base_html_head('Criar novo produto', _)}">
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body class="has-background-light">
<header th:replace="~{base_layout :: base_header}"></header>
<div th:insert="~{base_layout :: content(~{ :: #new-product-form})}">
    <div id="new-product-form">
        <div class="pl-5 block"><h3 class="title is-3">Criar novo Produto</h3></div>
        <div class="box">
            <form method="post" th:action="@{/products/new}" th:object="${createProductDto}">
                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label" for="product_name">Nome</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <input class="input"
                                       id="product_name"
                                       placeholder="CDB Pós fixado..."
                                       th:field="*{name}"
                                       type="text"
                                />
                            </div>
                            <p class="help is-danger" th:errors="*{name}" th:if="${#fields.hasErrors('name')}"></p>
                        </div>
                    </div>
                </div>

                <div class="field is-horizontal">
                    <div class="field-label">
                        <label class="label" for="product_destination">Descrição</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <textarea class="textarea"
                                          id="product_destination"
                                          placeholder="Explique a destinação deste produto de investimento"
                                          rows="4"
                                          th:field="*{destination}"
                                ></textarea>
                            </div>
                            <p class="help is-danger" th:errors="*{destination}"
                               th:if="${#fields.hasErrors('destination')}"></p>
                        </div>
                    </div>
                </div>

                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label" for="product_rentability">Rentabilidade anual</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control has-icons-left">
                                <input class="input"
                                       id="product_rentability"
                                       max="100"
                                       min="0"
                                       step="1"
                                       th:field="*{anualRentability}"
                                       type="number"
                                />
                                <span class="icon is-small is-left">
                                    <i class="fas fa-percentage fa-xs"></i>
                                </span>
                            </div>
                            <p class="help is-danger" th:errors="*{anualRentability}"
                               th:if="${#fields.hasErrors('anualRentability')}"></p>
                        </div>
                    </div>
                </div>

                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label" for="product_months">Tempo mínimo de aplicação</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <input class="input"
                                       id="product_months"
                                       max="48"
                                       min="0"
                                       step="1"
                                       th:field="*{minimalMonths}"
                                       type="number"
                                />
                            </div>
                            <p class="help is-danger" th:errors="*{minimalMonths}"
                               th:if="${#fields.hasErrors('minimalMonths')}"></p>
                        </div>
                    </div>
                </div>

                <div class="field is-horizontal">
                    <div class="field-label is-normal">
                        <label class="label" for="product_taxes">Taxas</label>
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <input class="input"
                                       id="product_taxes"
                                       max="100"
                                       min="0"
                                       step="0.1"
                                       th:field="*{administrativeTaxes}"
                                       type="number"
                                />
                            </div>
                            <p class="help is-danger" th:errors="*{administrativeTaxes}"
                               th:if="${#fields.hasErrors('administrativeTaxes')}"></p>
                        </div>
                    </div>
                </div>
                <div class="field is-horizontal">
                    <div class="field-label">
                        <!-- Left empty for spacing -->
                    </div>
                    <div class="field-body">
                        <div class="field">
                            <div class="control">
                                <button class="button is-primary" type="submit">
                                    Criar produto
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <ul>
                        <li th:each="err : ${#fields.allErrors()}" th:text="${err}"></li>
                    </ul>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>